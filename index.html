<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agata Project - Live2D Rigging</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <style>
        .flatpickr-calendar {
            background: #111827; /* Dark gray background */
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
            border: 1px solid #374151; /* Slightly lighter border */
            font-family: 'Poppins', sans-serif;
            color: #D1D5DB; /* Light gray text */
        }
        .flatpickr-months .flatpickr-month {
            color: #EF4444; /* Red for month name */
            fill: #EF4444;
        }
        .flatpickr-current-month .flatpickr-monthDropdown-months {
            background: #1F2937;
            border-radius: 8px;
        }
        .flatpickr-current-month .flatpickr-monthDropdown-months .flatpickr-monthDropdown-month {
            color: #D1D5DB;
            background: #1F2937;
        }
        .flatpickr-current-month .flatpickr-monthDropdown-months .flatpickr-monthDropdown-month:hover {
            background: #374151;
        }
        .flatpickr-weekdays {
            background: #000000; /* Black for weekdays background */
        }
        span.flatpickr-weekday {
            color: #F87171; /* Lighter red for weekday text */
            font-weight: bold;
        }
        .flatpickr-day {
            color: #D1D5DB;
            border-radius: 8px;
            transition: all 0.2s ease-in-out;
        }
        .flatpickr-day:hover, .flatpickr-day.flatpickr-day:focus {
            background: #374151;
            color: #FFF;
        }
        .flatpickr-day.today {
            border-color: #EF4444;
            color: #EF4444;
        }
        .flatpickr-day.selected, .flatpickr-day.startRange, .flatpickr-day.endRange {
            background: #DC2626; /* Stronger red for selected date */
            color: #FFFFFF;
            border-color: #DC2626;
        }
        .flatpickr-day.disabled, .flatpickr-day.prevMonthDay, .flatpickr-day.nextMonthDay {
            color: #4B5563; /* Darker gray for disabled/past dates */
            cursor: not-allowed;
        }
        .flatpickr-arrow {
            fill: #F87171;
        }
        .flatpickr-time {
            background: #111827;
        }
        .flatpickr-time .numInputWrapper span.arrowUp:after {
            border-bottom-color: #F87171;
        }
        .flatpickr-time .numInputWrapper span.arrowDown:after {
            border-top-color: #F87171;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="fixed top-0 left-0 w-full bg-black bg-opacity-80 backdrop-blur-md z-50 transition-all duration-300">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center">
                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-red-600 to-red-800 flex items-center justify-center mr-3">
                    <span class="text-white font-bold text-xl">A</span>
                </div>
                <h1 class="text-2xl font-bold">
                    <span class="text-white">Agata</span>
                    <span class="text-red-500">Project</span>
                </h1>
            </div>
            
            <nav class="hidden md:flex space-x-8">
                <button class="tab-btn active" data-tab="beranda">Beranda</button>
                <button class="tab-btn" data-tab="layanan">Layanan</button>
                <button class="tab-btn" data-tab="portofolio">Portofolio</button>
                <button class="tab-btn" data-tab="proses">Proses Kerja</button>
                <button class="tab-btn" data-tab="harga">Harga</button>
                <button class="tab-btn" data-tab="kontak">Kontak</button>
            </nav>
            
            <button class="md:hidden text-white text-2xl" id="menu-toggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden bg-black bg-opacity-95 w-full py-4 px-6">
            <div class="flex flex-col space-y-4">
                <button class="tab-btn active text-left" data-tab="beranda">Beranda</button>
                <button class="tab-btn text-left" data-tab="layanan">Layanan</button>
                <button class="tab-btn text-left" data-tab="portofolio">Portofolio</button>
                <button class="tab-btn text-left" data-tab="proses">Proses Kerja</button>
                <button class="tab-btn text-left" data-tab="harga">Harga</button>
                <button class="tab-btn text-left" data-tab="kontak">Kontak</button>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 pt-24 pb-16 tab-container">
        <!-- Beranda -->
        <section id="beranda" class="tab-content active min-h-screen flex flex-col justify-center section-transition">
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div class="animate-in text-center md:text-left">
                    <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold mb-4">
                        Terima <span class="text-gradient">Lemparan Rigging</span> Model Live2D Anda
                    </h1>
                    <p class="text-gray-300 text-lg mb-8">
                        Kalau kebetulan ada pekerjaan rigging yang belum sempat tersentuh atau kakak lagi Overload, kami dari Agata Project siap bantu support. Ini juga bagian dari amanah mentor kami, supaya bisa saling bantu antar sedulur komunitas. Kalau ada hal yang bisa kami bantuin, jangan sungkan yaa!
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center md:justify-start">
                        <button class="btn-primary px-8 py-3 rounded-full font-semibold" onclick="showTab('kontak')">
                            Hubungi Kami
                        </button>
                        <button class="bg-transparent border-2 border-red-500 text-red-500 px-8 py-3 rounded-full font-semibold hover:bg-red-500 hover:text-white transition-all" onclick="showTab('portofolio')">
                            Lihat Portofolio
                        </button>
                    </div>
                </div>
                
                <div class="relative mt-8 md:mt-0">
                    <div class="absolute -top-24 -right-24 w-[300px] h-[300px] md:w-[500px] md:h-[500px] bg-red-500 rounded-full filter blur-3xl opacity-20"></div>
                    <div class="absolute -bottom-16 -left-16 w-[200px] h-[200px] md:w-[400px] md:h-[400px] bg-red-600 rounded-full filter blur-3xl opacity-20"></div>
                    
                    <img src="Intro/halo.gif" alt="Agata Project Character" class="w-full h-auto max-w-sm mx-auto md:max-w-full float vtuber-avatar">
                </div>
            </div>
        </section>

        <!-- Layanan -->
        <section id="layanan" class="tab-content py-8 section-transition">
            <div class="text-center mb-12 md:mb-16">
                <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4">Layanan <span class="text-gradient">Kami</span></h2>
                <p class="text-gray-300 max-w-3xl mx-auto">
                    Agata Project menyediakan berbagai layanan Live2D Rigging untuk memenuhi kebutuhan VTuber Anda
                </p>
            </div>
            
            <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="service-card bg-black bg-opacity-60 rounded-xl p-6 flex flex-col items-center text-center">
                    <div class="w-20 h-20 rounded-full bg-red-900 flex items-center justify-center mb-4">
                        <i class="fas fa-user-circle text-3xl text-red-500"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Bust Up</h3>
                    <p class="text-gray-400 mb-6">
                        Rigging untuk karakter VTuber dari kepala hingga bahu, cocok untuk streamer pemula atau yang fokus pada ekspresi wajah.
                    </p>
                    <button class="btn-primary px-6 py-2 rounded-full mt-auto" onclick="showTab('harga')">
                        Lihat Harga
                    </button>
                </div>
                
                <div class="service-card bg-black bg-opacity-60 rounded-xl p-6 flex flex-col items-center text-center transform sm:scale-105 glow">
                    <div class="w-20 h-20 rounded-full bg-red-900 flex items-center justify-center mb-4">
                        <i class="fas fa-user-alt text-3xl text-red-500"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Half Body</h3>
                    <p class="text-gray-400 mb-6">
                        Rigging untuk karakter VTuber dari kepala hingga pinggang, dengan gerakan tangan dan tubuh bagian atas yang lebih ekspresif.
                    </p>
                    <button class="btn-primary px-6 py-2 rounded-full mt-auto" onclick="showTab('harga')">
                        Lihat Harga
                    </button>
                </div>
                
                <div class="service-card bg-black bg-opacity-60 rounded-xl p-6 flex flex-col items-center text-center mt-8 sm:mt-0">
                    <div class="w-20 h-20 rounded-full bg-red-900 flex items-center justify-center mb-4">
                        <i class="fas fa-user text-3xl text-red-500"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Full Body</h3>
                    <p class="text-gray-400 mb-6">
                        Rigging untuk karakter VTuber lengkap dari kepala hingga kaki, dengan gerakan tubuh penuh untuk pengalaman streaming yang imersif.
                    </p>
                    <button class="btn-primary px-6 py-2 rounded-full mt-auto" onclick="showTab('harga')">
                        Lihat Harga
                    </button>
                </div>
            </div>
            
            <div class="mt-16 text-center">
                <h3 class="text-2xl sm:text-3xl font-bold mb-6">Add-On</h3>
                <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="service-card bg-black bg-opacity-60 rounded-xl p-6 flex flex-col items-center text-center">
                        <div class="w-16 h-16 rounded-full bg-red-900 flex items-center justify-center mb-4">
                            <i class="fas fa-smile text-2xl text-red-500"></i>
                        </div>
                        <h4 class="text-lg font-bold mb-2">Toggle Ekspresi</h4>
                        <p class="text-gray-400">
                            Tambahkan berbagai ekspresi wajah yang dapat diubah dengan mudah saat streaming.
                        </p>
                    </div>
                    
                    <div class="service-card bg-black bg-opacity-60 rounded-xl p-6 flex flex-col items-center text-center">
                        <div class="w-16 h-16 rounded-full bg-red-900 flex items-center justify-center mb-4">
                            <i class="fas fa-tshirt text-2xl text-red-500"></i>
                        </div>
                        <h4 class="text-lg font-bold mb-2">Toggle Outfit</h4>
                        <p class="text-gray-400">
                            Ganti pakaian karakter VTuber Anda dengan mudah saat streaming berlangsung.
                        </p>
                    </div>
                    
                    <div class="service-card bg-black bg-opacity-60 rounded-xl p-6 flex flex-col items-center text-center">
                        <div class="w-16 h-16 rounded-full bg-red-900 flex items-center justify-center mb-4">
                            <i class="fas fa-paw text-2xl text-red-500"></i>
                        </div>
                        <h4 class="text-lg font-bold mb-2">Pet</h4>
                        <p class="text-gray-400">
                            Tambahkan hewan peliharaan yang berinteraksi dengan karakter VTuber Anda.
                        </p>
                    </div>
                    
                    <div class="service-card bg-black bg-opacity-60 rounded-xl p-6 flex flex-col items-center text-center">
                        <div class="w-16 h-16 rounded-full bg-red-900 flex items-center justify-center mb-4">
                            <i class="fas fa-hat-wizard text-2xl text-red-500"></i>
                        </div>
                        <h4 class="text-lg font-bold mb-2">Toggle Aksesoris</h4>
                        <p class="text-gray-400">
                            Tambahkan atau hilangkan aksesoris seperti topi, kacamata, atau perhiasan saat streaming.
                        </p>
                    </div>
                    
                    <div class="service-card bg-black bg-opacity-60 rounded-xl p-6 flex flex-col items-center text-center">
                        <div class="w-16 h-16 rounded-full bg-red-900 flex items-center justify-center mb-4">
                            <i class="fas fa-vr-cardboard text-2xl text-red-500"></i>
                        </div>
                        <h4 class="text-lg font-bold mb-2">Vbridger</h4>
                        <p class="text-gray-400">
                            Integrasi dengan VR untuk pengalaman VTubing yang lebih imersif dan realistis.
                        </p>
                    </div>
                    <div class="service-card bg-black bg-opacity-60 rounded-xl p-6 flex flex-col items-center text-center">
                        <div class="w-16 h-16 rounded-full bg-red-900 flex items-center justify-center mb-4">
                            <i class="fas fa-hand-sparkles text-2xl text-red-500"></i>
                        </div>
                        <h4 class="text-lg font-bold mb-2">Hand Toggle</h4>
                        <p class="text-gray-400">
                            Tambahkan gerakan tangan yang dapat diaktifkan dan dinonaktifkan.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Portofolio -->
        <section id="portofolio" class="tab-content py-8 section-transition">
            <div class="text-center mb-12 md:mb-16">
                <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4">Portofolio <span class="text-gradient">Kami</span></h2>
                <p class="text-gray-300 max-w-3xl mx-auto">
                    Beberapa hasil karya Live2D Rigging yang telah kami kerjakan dari lemparan komunitas
                </p>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Portfolio Items will be dynamically loaded or listed here -->
            </div>
            
            <div class="mt-12 text-center">
                <button class="btn-primary px-8 py-3 rounded-full font-semibold" onclick="showTab('kontak')">
                    Diskusikan Proyek Anda
                </button>
            </div>
        </section>

        <!-- Proses Kerja -->
        <section id="proses" class="tab-content py-8 section-transition">
            <div class="text-center mb-12 md:mb-16">
                <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4">Proses <span class="text-gradient">Kerja</span></h2>
                <p class="text-gray-300 max-w-3xl mx-auto">
                    Bagaimana kami mengerjakan proyek Live2D Rigging Anda dari awal hingga akhir
                </p>
            </div>
            
            <div class="relative">
                <div class="hidden md:block absolute left-1/2 top-0 bottom-0 w-1 bg-red-900 transform -translate-x-1/2"></div>
                
                <div class="space-y-12 md:space-y-0">
                    <!-- Steps will be listed here -->
                </div>
            </div>
            
            <div class="mt-16 text-center">
                <h3 class="text-2xl sm:text-3xl font-bold mb-6">Estimasi Waktu Pengerjaan</h3>
                <div class="card p-6 text-center max-w-lg mx-auto">
                    <p class="text-4xl font-bold text-red-500 mb-4">2-5 Hari</p>
                    <p class="text-gray-400">Waktu pengerjaan dapat bervariasi tergantung pada antrian proyek dan tingkat kesulitan model</p>
                </div>
            </div>
        </section>

        <!-- Harga -->
        <section id="harga" class="tab-content py-8 section-transition">
            <div class="text-center mb-12 md:mb-16">
                <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4">Daftar <span class="text-gradient">Harga</span></h2>
                <p class="text-gray-300 max-w-3xl mx-auto">
                    Pilih paket yang sesuai dengan kebutuhan dan anggaran Anda
                </p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Pricing Packages will be listed here -->
            </div>
            
            <div class="mt-16">
                <div class="card p-6 sm:p-8 rounded-xl">
                    <h3 class="text-2xl sm:text-3xl font-bold mb-6 text-center">Add-On</h3>
                    
                    <div class="grid md:grid-cols-2 gap-x-8 gap-y-4">
                        <!-- Add-on items will be listed here -->
                    </div>
                    
                    <div class="mt-6 p-4 bg-red-900 bg-opacity-20 rounded-lg border border-red-800">
                        <h4 class="font-bold mb-2 flex items-center">
                            <i class="fas fa-info-circle mr-2"></i>
                            Catatan Penting:
                        </h4>
                        <ul class="space-y-2 text-sm">
                            <li>• Harga dapat bervariasi tergantung pada kompleksitas desain karakter</li>
                            <li>• Pembayaran dilakukan setelah pengerjaan telah disetujui, kami akan mengirimkan invoice</li>
                            <li>• Revisi tidak dikenakan biaya tambahan</li>
                            <li>• Estimasi waktu pengerjaan dapat berubah tergantung pada antrian proyek</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Kontak -->
        <section id="kontak" class="tab-content py-8 section-transition">
            <div class="text-center mb-12 md:mb-16">
                <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4">Hubungi <span class="text-gradient">Kami</span></h2>
                <p class="text-gray-300 max-w-3xl mx-auto">
                    Siap untuk membuat VTuber impian Anda? Hubungi kami untuk konsultasi gratis dan penawaran
                </p>
            </div>
            
            <div class="grid md:grid-cols-1 gap-12 max-w-4xl mx-auto">
                <div>
                    <div class="card p-6 sm:p-8 rounded-xl">
                        <h3 class="text-2xl sm:text-3xl font-bold mb-6">Kirim Pesan</h3>
                        
                        <form id="contactForm" class="space-y-6">
                            <!-- Form fields will be here -->
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Scroll Down Indicator -->
    <div class="scroll-down" id="scroll-indicator">
        <p class="text-gray-300 mb-2">Scroll untuk melihat lebih</p>
        <i class="fas fa-chevron-down text-red-500"></i>
    </div>

    <footer class="bg-black py-12">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-3 gap-8 text-center md:text-left">
                <div class="md:col-span-1">
                    <div class="flex items-center justify-center md:justify-start mb-4">
                        <div class="w-10 h-10 rounded-full bg-gradient-to-br from-red-600 to-red-800 flex items-center justify-center mr-3">
                            <span class="text-white font-bold text-xl">A</span>
                        </div>
                        <h2 class="text-2xl font-bold">
                            <span class="text-white">Agata</span>
                            <span class="text-red-500">Project</span>
                        </h2>
                    </div>
                    <p class="text-gray-400 mb-4">
                        Ada pekerjaan rigging yang belum bisa ke-handle atau sedang overload? Tenang. Agata Project siap turun tangan, biar beban kerja Anda jadi jauh lebih ringan.
                    </p>
                </div>
                
                <div>
                    <h3 class="text-lg font-bold mb-4">Layanan</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-red-500 transition-colors" onclick="showTab('layanan')">Bust Up</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-red-500 transition-colors" onclick="showTab('layanan')">Half Body</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-red-500 transition-colors" onclick="showTab('layanan')">Full Body</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-bold mb-4">Tautan</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-red-500 transition-colors" onclick="showTab('beranda')">Beranda</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-red-500 transition-colors" onclick="showTab('portofolio')">Portofolio</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-red-500 transition-colors" onclick="showTab('proses')">Proses Kerja</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-red-500 transition-colors" onclick="showTab('harga')">Harga</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-red-500 transition-colors" onclick="showTab('kontak')">Kontak</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-500 text-sm mb-4 md:mb-0">
                    &copy; 2023 Agata Project. Hak Cipta Dilindungi.
                </p>
                <div class="flex space-x-6">
                    <a href="#" class="text-gray-500 text-sm hover:text-red-500 transition-colors">Syarat & Ketentuan</a>
                    <a href="#" class="text-gray-500 text-sm hover:text-red-500 transition-colors">Kebijakan Privasi</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Tab functionality with improved transitions
        let currentTab = 'beranda';
        let isAnimating = false;
        
        function showTab(tabId) {
            if (isAnimating || currentTab === tabId) return;
            isAnimating = true;
            
            // Get current and new tab elements
            const currentTabEl = document.getElementById(currentTab);
            const newTabEl = document.getElementById(tabId);
            
            // Update active tab button
            document.querySelectorAll('.tab-btn').forEach(btn => {
                if (btn.dataset.tab === tabId) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
            
            // First, hide the current tab completely
            currentTabEl.style.opacity = '0';
            currentTabEl.style.visibility = 'hidden';
            
            // After a short delay, remove active class and show new tab
            setTimeout(() => {
                // Remove active class from current tab
                currentTabEl.classList.remove('active');
                
                // Add active class to new tab
                newTabEl.classList.add('active');
                
                // Make new tab visible first but still transparent
                newTabEl.style.visibility = 'visible';
                
                // After a tiny delay, fade in the new tab
                setTimeout(() => {
                    newTabEl.style.opacity = '1';
                    
                    // Update current tab reference
                    currentTab = tabId;
                    
                    // Scroll to top of the content area with smooth animation
                    window.scrollTo({
                        top: document.querySelector('header').offsetHeight,
                        behavior: 'smooth'
                    });
                    
                    // Animation is complete
                    setTimeout(() => {
                        isAnimating = false;
                    }, 300);
                }, 50);
            }, 200);
        }
        
        // Define tab sequence for scroll navigation
        const tabSequence = ['beranda', 'layanan', 'portofolio', 'proses', 'harga', 'kontak'];
        
        // Function to get next tab in sequence
        function getNextTab(currentTabId) {
            const currentIndex = tabSequence.indexOf(currentTabId);
            if (currentIndex < tabSequence.length - 1) {
                return tabSequence[currentIndex + 1];
            }
            return tabSequence[0]; // Loop back to first tab if at the end
        }
        
        // Add click event to scroll-down indicator
        document.getElementById('scroll-indicator').addEventListener('click', function() {
            const nextTab = getNextTab(currentTab);
            showTab(nextTab);
        });
        
        // Mobile menu toggle
        document.getElementById('menu-toggle').addEventListener('click', function() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        });
        
        // Add click event to all tab buttons, including the portfolio button
        document.querySelectorAll('.tab-btn, .btn-primary[onclick*="portofolio"]').forEach(btn => {
            btn.addEventListener('click', function() {
                const tab = this.dataset.tab || 'portofolio';
                showTab(tab);
                document.getElementById('mobile-menu').classList.add('hidden');
            });
        });
        
        // Price calculation functions
        function formatPrice(price) {
            return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(price);
        }
        
        function updatePriceCalculation() {
            // Get service price
            const serviceSelect = document.getElementById('serviceType');
            const servicePrice = serviceSelect.options[serviceSelect.selectedIndex]?.dataset.price || 0;
            
            // Get addon prices
            let addonTotal = 0;
            const noneAddon = document.querySelector('input[name="addon"][value="none"]');
            
            if (noneAddon && noneAddon.checked) {
                // If "Tidak pakai add-on" is selected, addon total is 0
                addonTotal = 0;
            } else {
                // Calculate total from selected add-ons
                document.querySelectorAll('input[name="addon"]:checked').forEach(addon => {
                    if (addon.value !== 'none') {
                        const price = parseInt(addon.dataset.price || 0);
                        let quantity = 1;
                        const container = addon.closest('.flex.items-center.justify-between');
                        if (container) {
                            const quantityInput = container.querySelector('input[type="number"]');
                            if (quantityInput) {
                                quantity = parseInt(quantityInput.value);
                            }
                        }
                        addonTotal += price * quantity;
                    }
                });
            }
            
            // Update price display
            document.getElementById('servicePrice').textContent = servicePrice ? formatPrice(servicePrice) : '-';
            document.getElementById('addonPrice').textContent = addonTotal > 0 ? formatPrice(addonTotal) : '-';
            
            // Calculate and display total
            const total = parseInt(servicePrice || 0) + addonTotal;
            document.getElementById('totalPrice').textContent = total > 0 ? formatPrice(total) : '-';
        }
        
        // Handle checkbox for add-ons
        document.querySelectorAll('input[name="addon"]').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                if (this.value === 'none' && this.checked) {
                    // If "Tidak pakai add-on" is checked, uncheck all other add-ons
                    document.querySelectorAll('input[name="addon"]').forEach(cb => {
                        if (cb.value !== 'none') {
                            cb.checked = false;
                        }
                    });
                } else if (this.checked) {
                    // If any other add-on is checked, uncheck "Tidak pakai add-on"
                    const noneOption = document.querySelector('input[name="addon"][value="none"]');
                    if (noneOption) {
                        noneOption.checked = false;
                    }
                }
                
                // Update price calculation
                updatePriceCalculation();
            });
        });
        
        // Update price when service type changes
        document.getElementById('serviceType').addEventListener('change', updatePriceCalculation);

        // Update price when addon quantity changes
        document.querySelectorAll('input[type="number"]').forEach(input => {
            input.addEventListener('change', updatePriceCalculation);
        });
        
        
        
        // Contact form submission to WhatsApp
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form values
            const fullName = document.getElementById('fullName').value || 'Tidak diisi';
            const studioName = document.getElementById('studioName').value || 'Tidak diisi';
            const workBrief = document.getElementById('workBrief').value || 'Tidak diisi';
            const deadline = document.getElementById('deadline').value || 'Tidak diisi';
            
            // Get selected service
            const serviceSelect = document.getElementById('serviceType');
            const serviceType = serviceSelect.options[serviceSelect.selectedIndex]?.text || 'Tidak dipilih';
            
            // Get selected add-ons
            let addOns = [];
            document.querySelectorAll('input[name="addon"]:checked').forEach(addon => {
                if (addon.value !== 'none') {
                    const parentElement = addon.parentElement;
                    const label = parentElement.textContent.trim();
                    let quantityText = '';
                    const container = parentElement.parentElement;
                    if (container.classList.contains('justify-between')) {
                        const quantityInput = container.querySelector('input[type="number"]');
                        if (quantityInput) {
                            quantityText = ` (Jumlah: ${quantityInput.value})`;
                        }
                    }
                    addOns.push(label + quantityText);
                }
            });
            
            if (addOns.length === 0) {
                addOns.push('Tidak pakai add-on');
            }
            
            const psdLink = document.getElementById('psdLink').value || 'Tidak diisi';

            // Get total price
            const totalPrice = document.getElementById('totalPrice').textContent;
            
            // Construct WhatsApp message
            let message = `Halo, saya ingin memesan jasa Live2D Rigging\n\n`;
            message += `Nama: ${fullName}\n`;
            message += `Studio/Project: ${studioName}\n`;
            message += `Jenis Layanan: ${serviceType}\n`;
            message += `Add-On: ${addOns.join(', ')}\n`;
            message += `Estimasi Harga: ${totalPrice}\n`;
            message += `Batas Waktu: ${deadline}\n`;
            message += `Tautan File PSD: ${psdLink}\n\n`;
            message += `Brief Pekerjaan:\n${workBrief}`;
            
            // Encode the message for URL
            const encodedMessage = encodeURIComponent(message);
            
            // Open WhatsApp with the message
            window.open(`https://wa.me/62895340066222?text=${encodedMessage}`, '_blank');
        });
        
        // Enhanced animation on scroll
        function animateOnScroll() {
            const elements = document.querySelectorAll('.animate-in');
            
            elements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                const windowHeight = window.innerHeight;
                
                if (elementTop < windowHeight - 100) {
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                    element.style.transition = 'opacity 1s cubic-bezier(0.215, 0.610, 0.355, 1.000), transform 1s cubic-bezier(0.215, 0.610, 0.355, 1.000)';
                }
            });
            
            // Animate progress bars
            const progressBars = document.querySelectorAll('.progress-fill');
            
            progressBars.forEach(bar => {
                const barTop = bar.getBoundingClientRect().top;
                const windowHeight = window.innerHeight;
                
                if (barTop < windowHeight - 50) {
                    const width = bar.getAttribute('data-width');
                    bar.style.width = width;
                }
            });
            
            // Animate sections with fade-in effect
            const sections = document.querySelectorAll('.section-transition');
            
            sections.forEach(section => {
                const sectionTop = section.getBoundingClientRect().top;
                const windowHeight = window.innerHeight;
                
                if (sectionTop < windowHeight - 100) {
                    section.classList.remove('section-hidden');
                    section.classList.add('section-visible');
                }
            });
        }
        
        // Initialize animations
        window.addEventListener('load', function() {
            // Add section-hidden class to all sections initially
            document.querySelectorAll('.section-transition').forEach(section => {
                if (!section.classList.contains('active')) {
                    section.classList.add('section-hidden');
                }
            });
            
            // Initialize active tab
            document.querySelectorAll('.tab-content').forEach(tab => {
                if (tab.id === currentTab) {
                    tab.style.opacity = '1';
                    tab.style.visibility = 'visible';
                }
            });
            
            animateOnScroll();
            
            // Show header on scroll
            const header = document.querySelector('header');
            let lastScrollTop = 0;
            
            window.addEventListener('scroll', function() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                if (scrollTop > lastScrollTop) {
                    // Scrolling down
                    header.style.transform = 'translateY(-100%)';
                } else {
                    // Scrolling up
                    header.style.transform = 'translateY(0)';
                }
                
                lastScrollTop = scrollTop;
                
                // Call animation function on scroll
                animateOnScroll();
                
                // Show/hide scroll indicator based on scroll position
                const scrollIndicator = document.getElementById('scroll-indicator');
                const isAtBottom = window.innerHeight + window.scrollY >= document.body.offsetHeight - 100;
                
                if (isAtBottom) {
                    scrollIndicator.style.opacity = '0';
                    scrollIndicator.style.pointerEvents = 'none';
                } else {
                    scrollIndicator.style.opacity = '1';
                    scrollIndicator.style.pointerEvents = 'auto';
                }
            });
            
            // Set minimum height for tab container based on current content
            function setMinHeight() {
                const activeTab = document.querySelector('.tab-content.active');
                if (activeTab) {
                    const tabContainer = document.querySelector('.tab-container');
                    tabContainer.style.minHeight = activeTab.offsetHeight + 'px';
                }
            }
            
            // Set initial height and update on window resize
            setMinHeight();
            window.addEventListener('resize', setMinHeight);
            
            // Initialize price calculation
            updatePriceCalculation();
        });

        document.addEventListener('DOMContentLoaded', function() {
            const videos = document.querySelectorAll('video');
            videos.forEach(video => {
                video.disablePictureInPicture = true;
            });

            flatpickr("#deadline", {
                locale: "id",
                dateFormat: "d-m-Y",
                altInput: true,
                altFormat: "l, j F Y",
                minDate: "today",
                time_24hr: true,
                defaultDate: new Date(),
            });
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://npmcdn.com/flatpickr/dist/l10n/id.js"></script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'966a2ab56344ea83',t:'MTc1Mzc2NjQyNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
